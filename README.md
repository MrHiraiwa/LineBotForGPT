# LineBotForGPT

このリポジトリは、LINE上で動作するPythonベースのチャットボットです。このボットはChatGPT APIを使用して、ユーザからのメッセージに対してレスポンスを生成します。

## 必要な環境変数

このアプリケーションは以下の環境変数を必要とします。

- `OPENAI_APIKEY` : OpenAI APIのアクセスキー
- `LINE_ACCESS_TOKEN` : LINE Messaging APIのアクセストークン
- `MAX_DAILY_USAGE` : ユーザごとの最大日次利用回数
- `SECRET_KEY` : メッセージの暗号化/復号化に使用する秘密鍵
- `SYSTEM_PROMPT` : システムのプロンプト

これらの環境変数が設定されていない場合、チャットボットは適切に動作しません。

## セットアップ

以下のステップに従ってセットアップしてください：

1. Google Cloud Runでデプロイします：Google Cloud Consoleでプロジェクトを作成しCloud Run APIを有効にし環境変数を設定後、本レポジトリを指定してデプロイします。

2. 同じプロジェクト内でFirestoreを有効にします：左側のナビゲーションメニューで「Firestore」を選択し、Firestoreをプロジェクトで有効にします。

3. データベースを作成します：Firestoreダッシュボードに移動し、「データベースの作成」をクリックします。「ネイティブ」モードを選択します。

## 注意

このアプリケーションはFlaskベースで作成されています。そのため、任意のウェブサーバー上にデプロイすることが可能です。が、前提としてはGoogle Cloud runでの動作を想定しています。デプロイ方法は使用するウェブサーバーによります。

Google Cloud run以外で動作させる場合はFireStoreとの紐づけが必要になります。

## ライセンス

このプロジェクトはMITライセンスの下でライセンスされています。
